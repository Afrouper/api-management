apisix:
  node_listen: 9080
  enable_dev_mode: false
  enable_reuseport: true
  enable_admin: true
  enable_http2: true
  delete_uri_tail_slash: false
  extra_lua_cpath: ''
  data_encryption:
    enable_encrypt_fields: true
    keyring:
    - qeddd145sfvddff3
    - edd1c9f0985e76a2
  enable_resolv_search_opt: true
  enable_server_tokens: true
  ssl:
    enable: true
    ssl_ciphers: ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384
    listen:
    - port: 9443
      enable_http3: false
    listen_port: 9443
    ssl_session_tickets: false
    ssl_protocols: TLSv1.2 TLSv1.3
  router:
    ssl: radixtree_sni
    http: radixtree_host_uri
  show_upstream_status_in_response_header: false
  proxy_mode: http
  resolver_timeout: 5
  enable_https: true
  events:
    module: lua-resty-events
  disable_sync_configuration_during_start: false
  enable_control: true
  enable_ipv6: true
  extra_lua_path: ''
  proxy_cache:
    cache_ttl: 10s
    zones:
    - cache_levels: '1:2'
      memory_size: 50m
      disk_size: 1G
      disk_path: /tmp/disk_cache_one
      name: disk_cache_one
    - name: memory_cache
      memory_size: 50m
  normalize_uri_like_servlet: false
stream_plugins:
- ip-restriction
- limit-conn
- mqtt-proxy
- syslog
etcd:
  host:
  - http://etcd:2379
  username: root
  watch_timeout: 50
  startup_retry: 2
  password: your_secure_password
  tls:
    verify: true
  timeout: 30
  prefix: /apisix

deployment:
  role: control_plane
  admin_key:
  - role: admin
    name: admin
    key: adminKey
  - role: viewer
    name: viewer
    key: viewerKey
  role_control_plane:
    config_provider: etcd
    conf_server:
      listen: 0.0.0.0:9280
      cert: /usr/local/apisix/certs/server.crt
      cert_key: /usr/local/apisix/certs/server.key
      client_ca_cert: /usr/local/apisix/certs/server.crt
  config_provider: etcd
  certs:
    cert: /usr/local/apisix/certs/server.crt
    cert_key: /usr/local/apisix/certs/server.key
    client_ca_cert: /usr/local/apisix/certs/server.crt
  etcd:
    host:
    - http://etcd:2379
    username: root
    watch_timeout: 50
    startup_retry: 2
    tls:
      verify: true
    timeout: 30
    prefix: /apisix
  admin:
    enable_admin_cors: true
    admin_key_required: true
    admin_key:
    - role: admin
      name: admin
      key: vJFmrarZewySFpAtsuhRFvOXloCHZhFv
